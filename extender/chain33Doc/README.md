# 程序介绍  

backupChain33Doc.py程序是为了备份chain33开发者平台https://chain.33.cn 上的文档而写的小程序, 由python语言写成, 执行该程序可以按照程序中配置的需要备份的文档编号自动进行文档的下载、压缩打包, 将所得的zip包备份即可对文档备份。  

# 程序使用介绍  

## 1 支持平台：  

安装了python2或者python3的Linux、Mac、Windows平台。  

## 2 使用步骤：  

1.首先下载backupChain33Doc.py程序到本地某个目录A中。  

2.命令行状态到目录A中：  

* A. Linux或者Mac中, 打开控制台命令行模式, 进入目录A, 通过ls命令可以看到backupChain33Doc.py程序；  
* B. Windows中, 从“开始”菜单在“搜索程序和文件”中输入cmd, 按回车, 进入command命令行模式, 通过cd命令, 进入目录A, 通过dir命令可以看到backupChain33Doc.py程序；
* C. Windows中, 也可以安装git, 通过资源管理器图形界面进入目录A, 可以看到backupChain33Doc.py程序文件, 通过鼠标右键选择“Git Bash Here”进入类linux的命令行模式, 通过ls命令可以看到backupChain33Doc.py程序文件；

3.执行命令:python backupChain33Doc.py, 可看到类似如下输出  

```
create backup path:chain33doc-2020-02-20-173155-bak
create chinese backup path:chain33doc-2020-02-20-173155-bak/ch/
create english backup path:chain33doc-2020-02-20-173155-bak/en/
now start to backup chinese docs...
-------60-------
-------80-------
...
-------138-------
now start to backup english docs...
-------142-------
...
-------210-------
now you can compress the directory chain33doc-2021-02-20-173155-bak to backup the chain33 docs from https://chain.33.cn
```

目录A下生成的chain33doc-2021-02-20-173155-bak即为当前时间对文档的备份包。  

# 注意事项

## 1 程序执行失败的处理方式：

如果因为网络问题抓取文档失败, 可以在网络恢复以后重试。  
如果因为python缺少必要的模块, 可以按提示通过pip安装模块后重试。  
如果因为代码bug, 可以对代码进行修改, 代码比较简单。  

## 2 backupChain33Doc.py程序中, 对于哪些文档需要备份, 是需要配置的。

目前按现有文档已配置好。  
后续如果文档有变化, 可以按如下方式进行配置修改: 

从chain33开发者平台上查看开发文档时, 得到的url类似如下：
https://chain.33.cn/document/60

https://chain.33.cn/document/80
...

```
#其中最后的数字60、80等代表的是文档的编号, 对于需要备份的文档编号, 配置在backupChain33Doc.py程序中的如下变量中：
chineseCids = ['60', '80', '81', '83', '235', '85', '82', '67', '116', '128', '129', '130', '120', '121', '122', '123', '124', '125', '72', '73', '74', '75', '76', '77', '78', '79', '86', '88', '90', '113', '114', '126', '211', '95','93', '94','100','99','98','97','96','218','102','105','104','108','110','115','118','134','135', '101', '117', '137', '138']
engCids = ['142', '143', '149', '151', '161', '162', '163', '164', '165', '166', '167', '168','169','170', '172', '173', '174', '175', '176', '177', '178', '179', '180', '181','182','183','184', '156','185','186','187', '188', '192','193','194', '195', '196', '197', '198', '199', '200', '202', '203', '204', '205', '206', '207', '208', '191', '159', '209', '210']
#其中chineseCids是中文文档的编号列表, engCids是英文文档的编号列表。
#如果要备份的文档列表有变化（新增文档或者删除文档）, 直接修改这两个变量即可。
```

## 3 backupChain33Doc.py程序只对开发文档的md部分进行备份  

对于文档中引用的图像并不做备份, 因为图像一般不被删除。后续有需要, 可以把文档中引用到的图片抓取下来进行备份。  

